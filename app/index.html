<!doctype html>
<html lang="en" manifest="webogram.appcache" ng-csp="" xmlns:ng="http://angularjs.org" id="ng-app">
<head>
  <!--[if lte IE 9]>
  <meta HTTP-EQUIV="REFRESH" content="0; url=badbrowser.html">
  <![endif]-->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>Telegram Web</title>

  <!-- build:css css/app.css -->
  <link rel="stylesheet" href="vendor/angular/angular-csp.css"/>
  <link rel="stylesheet" href="vendor/bootstrap/css/bootstrap.css"/>
  <link rel="stylesheet" href="css/app.css"/>
  <!-- endbuild -->

  <link rel="icon" href="favicon.ico" type="image/x-icon" />

  <link rel="apple-touch-icon" href="img/iphone_home120.png">
  <link rel="apple-touch-icon" sizes="120x120" href="img/iphone_home120.png">
  <link rel="apple-touch-startup-image" media="(device-width: 320px)" href="img/iphone_startup.png">

  <meta name="apple-mobile-web-app-title" content="Telegram Web">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <meta property="og:title" content="Telegram Web">
  <meta property="og:url" content="http://zhukov.github.io/webogram/">
  <meta property="og:image" content="http://zhukov.github.io/webogram/img/logo_share.png">
  <meta property="og:site_name" content="Telegram Web">
  <meta property="og:description" content="Welcome to the Web application of Telegram messenger. See https://github.com/zhukov/webogram for more info.">

  <script type="text/javascript">
    var Webogram = window.Webogram = global.Webogram = {

      gui: require('nw.gui'),
      Window: require('nw.gui').Window.get(),
      openWindow: require('nw.gui').Window.open,

      PLATFORM_WINDOWS: process.platform === 'win32',
      PLATFORM_MAC: process.platform === 'darwin',
      PLATFORM_LINUX: process.platform === 'linux'

    };

    //Tray icon
    var trayOptions = {
      icon: 'app/img/icons/icon16.png', //Relative to package.json file
      title: 'Telegram'
    };

    var tray_icon = new Webogram.gui.Tray(trayOptions);

    //Tray Icon Right Click Menu
    var tray_menu = new Webogram.gui.Menu();

    tray_menu.append(new Webogram.gui.MenuItem({
      label: 'Show',
      click: function () {
        Webogram.Window.show();
        Webogram.Window.focus();
      }
    }));

    tray_menu.append(new Webogram.gui.MenuItem({
      label: 'Hide',
      click: function () {
        Webogram.Window.hide();
      }
    }));

    tray_menu.append(new Webogram.gui.MenuItem({
      label: 'Exit',
      click: function () {
        Webogram.Window.close();
      }
    }));

    tray_icon.menu = tray_menu;
    tray_icon.on('click', function () {
      Webogram.Window.show();
      Webogram.Window.focus();
    });

    //Push tray icon to global window to tell garbage collector that tray icon is not garbage
    Webogram._trayIcon = tray_icon;

    if (Webogram.PLATFORM_WINDOWS) {
      Webogram.Window.on('minimize', function () {
        Webogram.Window.hide();
      });
    }

    //Devtools for developers
    //Allow anyone to open dev tools for error reporting
    window.addEventListener('keydown', function (e) {
      if (e.keyIdentifier === 'F12') {
        Webogram.Window.showDevTools();
      }
    });
  </script>
</head>
<body>

  <div class="page_wrap" ng-view></div>
  
  <div id="notify_sound"></div>

  <!-- build:js js/app.js -->
  <script type="text/javascript" src="js/lib/polyfill.js"></script>
  <script type="text/javascript" src="vendor/jquery/jquery.min.js"></script>
  <script type="text/javascript" src="js/lib/config.js"></script>
  <script type="text/javascript" src="js/init.js"></script>
  <script type="text/javascript" src="vendor/jquery.nanoscroller/nanoscroller.js"></script>
  <script type="text/javascript" src="vendor/jquery.emojiarea/jquery.emojiarea.js"></script>

  <script type="text/javascript" src="vendor/angular/angular.js"></script>
  <script type="text/javascript" src="vendor/angular/angular-route.js"></script>
  <script type="text/javascript" src="vendor/angular/angular-animate.js"></script>
  <script type="text/javascript" src="vendor/angular/angular-sanitize.js"></script>
  <script type="text/javascript" src="vendor/angular/angular-touch.js"></script>
  <script type="text/javascript" src="vendor/ui-bootstrap/ui-bootstrap-custom-tpls-0.10.0.js"></script>
  <script type="text/javascript" src="vendor/angular-media-player/angular-media-player.js"></script>

  <script type="text/javascript" src="vendor/jsbn/jsbn_combined.js"></script>
  <script type="text/javascript" src="vendor/cryptoJS/crypto.js"></script>
  <script type="text/javascript" src="vendor/zlib/gunzip.min.js"></script>
  <script type="text/javascript" src="vendor/closure/long.js"></script>


  <script type="text/javascript" src="js/lib/utils.js"></script>
  <script type="text/javascript" src="js/lib/bin_utils.js"></script>
  <script type="text/javascript" src="js/lib/tl_utils.js"></script>
  <script type="text/javascript" src="js/lib/ng_utils.js"></script>
  <script type="text/javascript" src="js/lib/mtproto.js"></script>
  <script type="text/javascript" src="js/lib/mtproto_wrapper.js"></script>

  <script type="text/javascript" src="js/app.js"></script>
  <script type="text/javascript" src="js/services.js"></script>
  <script type="text/javascript" src="js/controllers.js"></script>
  <script type="text/javascript" src="js/filters.js"></script>
  <script type="text/javascript" src="js/i18n.js"></script>

  <!--PRODUCTION_ONLY_BEGIN-->
    <script type="text/javascript" src="js/templates.js"></script>
  <!--PRODUCTION_ONLY_END-->

  <script type="text/javascript" src="js/directives.js"></script>
  <script type="text/javascript" src="js/directives_mobile.js"></script>
  <!-- endbuild -->
<script type="text/javascript">
  // Open links in default $BROWSER
  $(document).ready(function(){
    $(document).on('click', ".js-external-link", function(event) {
      Webogram.gui.Shell.openExternal($(this).attr('href'));
      event.preventDefault();
    });
  });
</script>
</body>
</html>
